{"version":3,"sources":["../../app-es6/models/User.js"],"names":["TimeHelper","BadgeList","CollectibleList","TransactionList","User","name","balance","_name","_balance","_activities","_badgeList","_collectibleList","_transactionList","collectible","add","badge","activity","push","transaction","concat","parseFloat","reduce","total","route_distance","toFixed","getNumberSeconds","time","timeToText","_total_time_secs","max_","avg_velocity_kmh","secs","total_time","total_distance","hours","getNumberHours"],"mappings":";;;;;;;;;;;;;;;AAAQA,sB,sBAAAA,U;;AACCC,qB,cAAAA,S;;AACAC,2B,oBAAAA,e;;AACAC,2B,oBAAAA,e;;;;;;;;;;;;;;;;;;;;;4BAEIC,I;AACT,8BAAYC,IAAZ,EAA4B;AAAA,wBAAVC,OAAU,uEAAF,CAAE;;AAAA;;AACxB,yBAAKC,KAAL,GAAaF,IAAb;AACA,yBAAKG,QAAL,GAAgBF,OAAhB;AACA,yBAAKG,WAAL,GAAmB,EAAnB;AACA,yBAAKC,UAAL,GAAkB,IAAIT,SAAJ,EAAlB;AACA,yBAAKU,gBAAL,GAAwB,IAAIT,eAAJ,EAAxB;AACA,yBAAKU,gBAAL,GAAwB,IAAIT,eAAJ,EAAxB;AACH;;;;mDAWcU,W,EAAY;AACvB,6BAAKF,gBAAL,CAAsBG,GAAtB,CAA0BD,WAA1B;AACH;;;6CAOQE,K,EAAM;AACX,6BAAKL,UAAL,CAAgBI,GAAhB,CAAoBC,KAApB;AACH;;;gDAOWC,Q,EAAS;AACjB,6BAAKP,WAAL,CAAiBQ,IAAjB,CAAsBD,QAAtB;AACH;;;mDAQcE,W,EAAY;AACvB,6BAAKN,gBAAL,CAAsBE,GAAtB,CAA0BI,WAA1B;AACH;;;wCAvCS;AACN,+BAAO,KAAKX,KAAZ;AACH;;;wCAEY;AACT,+BAAO,KAAKC,QAAZ;AACH;;;wCAOoB;AACjB,+BAAO,KAAKG,gBAAZ;AACH;;;wCAOc;AACX,+BAAO,KAAKD,UAAZ;AACH;;;wCAOe;AACZ,+BAAO,GAAGS,MAAH,CAAU,KAAKV,WAAf,CAAP;AACH;;;wCAQoB;AACjB,+BAAO,KAAKG,gBAAZ;AACH;;;wCAEmB;AAChB,+BAAOQ,WAAW,KAAKX,WAAL,CAAiBY,MAAjB,CAAwB,UAACC,KAAD,EAAQN,QAAR;AAAA,mCAAqBM,SAASN,SAASO,cAAvC;AAAA,yBAAxB,EAA+E,GAA/E,CAAX,EAAgGC,OAAhG,CAAwG,CAAxG,CAAP;AACH;;;wCAEqB;AAClB,+BAAO,KAAKf,WAAL,CAAiBY,MAAjB,CAAwB,UAACC,KAAD,EAAQN,QAAR;AAAA,mCAAqBM,SAAStB,WAAWyB,gBAAX,CAA4BT,SAASU,IAArC,CAA9B;AAAA,yBAAxB,EAAkG,GAAlG,CAAP;AACH;;;wCAEe;AACZ,+BAAO1B,WAAW2B,UAAX,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,KAAKC,gBAAjC,CAAP;AACH;;;wCAEiB;AACd,+BAAOR,WAAW,KAAKX,WAAL,CAAiBY,MAAjB,CAAwB,UAACQ,IAAD,EAAOb,QAAP;AAAA,mCAAqBa,OAAOb,SAASc,gBAAjB,GAAqCD,IAArC,GAA4Cb,SAASc,gBAAzE;AAAA,yBAAxB,EAAmH,GAAnH,CAAX,EAAoIN,OAApI,CAA4I,CAA5I,CAAP;AACH;;;wCAEiB;AACd,+BAAOJ,WAAW,KAAKX,WAAL,CAAiBY,MAAjB,CAAwB,UAACQ,IAAD,EAAOb,QAAP;AAAA,mCAAqBa,OAAOb,SAASO,cAAjB,GAAmCM,IAAnC,GAA0Cb,SAASO,cAAvE;AAAA,yBAAxB,EAA+G,GAA/G,CAAX,EAAgIC,OAAhI,CAAwI,CAAxI,CAAP;AACH;;;wCAEoB;AACjB,4BAAMO,OAAO/B,WAAWyB,gBAAX,CAA4B,KAAKO,UAAjC,CAAb;AACA,+BAAO,CAAE,KAAKC,cAAL,GAAsB,IAAvB,GAA+BF,IAAhC,EAAsCP,OAAtC,CAA8C,CAA9C,CAAP;AACH;;;wCAEqB;AAClB,4BAAMU,QAAQlC,WAAWmC,cAAX,CAA0B,KAAKH,UAA/B,CAAd;AACA,+BAAO,CAAC,KAAKC,cAAL,GAAsBC,KAAvB,EAA8BV,OAA9B,CAAsC,CAAtC,CAAP;AACH","file":"User.js","sourcesContent":["import {TimeHelper} from '../helpers/TimeHelper';\r\nimport { BadgeList } from './BadgeList';\r\nimport { CollectibleList } from './CollectibleList';\r\nimport { TransactionList } from './TransactionList';\r\n\r\nexport class User {\r\n    constructor(name, balance=0){\r\n        this._name = name;\r\n        this._balance = balance;\r\n        this._activities = [];\r\n        this._badgeList = new BadgeList();\r\n        this._collectibleList = new CollectibleList();\r\n        this._transactionList = new TransactionList();\r\n    }\r\n\r\n    get name(){\r\n        return this._name;\r\n    }\r\n\r\n    get balance(){\r\n        return this._balance;\r\n    }\r\n\r\n    //Collectibles\r\n    addCollectible(collectible){\r\n        this._collectibleList.add(collectible);\r\n    }\r\n\r\n    get collectibleList(){\r\n        return this._collectibleList;\r\n    }\r\n\r\n    //Badges\r\n    addBadge(badge){\r\n        this._badgeList.add(badge);\r\n    }\r\n\r\n    get badgeList(){\r\n        return this._badgeList;\r\n    }\r\n\r\n    // Activities\r\n    addActivity(activity){\r\n        this._activities.push(activity);\r\n    }\r\n\r\n    get activities(){\r\n        return [].concat(this._activities);\r\n    }\r\n\r\n    // Transactions\r\n\r\n    addTransaction(transaction){\r\n        this._transactionList.add(transaction);\r\n    }\r\n\r\n    get transactionList(){\r\n        return this._transactionList;\r\n    }\r\n\r\n    get total_distance(){\r\n        return parseFloat(this._activities.reduce((total, activity) => total += activity.route_distance, 0.0)).toFixed(2);\r\n    }\r\n\r\n    get _total_time_secs(){\r\n        return this._activities.reduce((total, activity) => total += TimeHelper.getNumberSeconds(activity.time), 0.0);\r\n    }\r\n\r\n    get total_time(){\r\n        return TimeHelper.timeToText(0, 0, this._total_time_secs);\r\n    }\r\n\r\n    get max_velocity(){\r\n        return parseFloat(this._activities.reduce((max_, activity) => (max_ > activity.avg_velocity_kmh) ? max_ : activity.avg_velocity_kmh, 0.0)).toFixed(2);\r\n    }\r\n\r\n    get max_distance(){\r\n        return parseFloat(this._activities.reduce((max_, activity) => (max_ > activity.route_distance) ? max_ : activity.route_distance, 0.0)).toFixed(2);\r\n    }\r\n\r\n    get avg_velocity_ms(){\r\n        const secs = TimeHelper.getNumberSeconds(this.total_time);\r\n        return ((this.total_distance * 1000) / secs).toFixed(2);\r\n    }\r\n\r\n    get avg_velocity_kmh(){\r\n        const hours = TimeHelper.getNumberHours(this.total_time);\r\n        return (this.total_distance / hours).toFixed(2);\r\n    }\r\n\r\n}"]}