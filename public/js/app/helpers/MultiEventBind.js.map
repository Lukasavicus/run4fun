{"version":3,"sources":["../../app-es6/helpers/MultiEventBind.js"],"names":["ProxyFactory","MultiEventBind","model","views_and_properties_map","options","map","view_and_props","forEach","view","update","proxy","create"],"mappings":";;;;;;;;;;;;;;;AACQA,wB,yBAAAA,Y;;;sCAEKC,c,GACT,wBAAYC,KAAZ,EAAmBC,wBAAnB,EAA4C;AAAA;;AAExC,oBAAIC,UAAUD,yBAAyBE,GAAzB,CAA6B,0BAAkB;AACzDC,mCAAe,eAAf,IAAkC,OAAlC;AACAA,mCAAe,QAAf,IAA2B,UAACJ,KAAD,EAAW;AAClCI,uCAAe,OAAf,EAAwBC,OAAxB,CAAgC;AAAA,mCAAQC,KAAKC,MAAL,CAAYP,KAAZ,CAAR;AAAA,yBAAhC;AACH,qBAFD;AAGA,2BAAOI,cAAP;AACH,iBANa,CAAd;;AAQA,oBAAII,QAAQV,aAAaW,MAAb,CAAoBT,KAApB,EAA2BE,OAA3B,CAAZ;;AAEAD,yCAAyBI,OAAzB,CAAiC,0BAAkB;AAC/CD,mCAAe,OAAf,EAAwBC,OAAxB,CAAgC;AAAA,+BAAQC,KAAKC,MAAL,CAAYP,KAAZ,CAAR;AAAA,qBAAhC;AACH,iBAFD;;AAIA,uBAAOQ,KAAP;AACH,a","file":"MultiEventBind.js","sourcesContent":["// WIP\r\nimport {ProxyFactory} from '../services/ProxyFactory';\r\n\r\nexport class MultiEventBind {\r\n    constructor(model, views_and_properties_map){\r\n\r\n        let options = views_and_properties_map.map(view_and_props => {\r\n            view_and_props['applicability'] = \"after\";\r\n            view_and_props['action'] = (model) => {\r\n                view_and_props['views'].forEach(view => view.update(model));\r\n            };\r\n            return view_and_props;\r\n        });\r\n\r\n        let proxy = ProxyFactory.create(model, options);\r\n\r\n        views_and_properties_map.forEach(view_and_props => {\r\n            view_and_props['views'].forEach(view => view.update(model));\r\n        });\r\n\r\n        return proxy;\r\n    }\r\n}\r\n\r\n/**\r\n    this._user = new MultiBind(new User(window.sessionStorage.login), [\r\n            {\r\n                views : [\r\n                    new ActivitiesView($(\"#activities-data\")), \r\n                    new ActivitiesDashboardView($(\"#management-dashboard\")),\r\n                    new NavigationBarView($(\".user-pill\"))\r\n                ],\r\n                props : ['addActivity']\r\n            },\r\n            {\r\n                views : [new BadgesView($(\"#badges\"))],\r\n                props : ['addBadges']\r\n            },\r\n            {\r\n                views : [new CollectiblesView($(\"#collectibles\"))],\r\n                props : ['addCollectible']\r\n            }\r\n        ]);\r\n */"]}