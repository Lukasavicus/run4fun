{"version":3,"sources":["../../app-es6/controllers/LoginController.js"],"names":["loginControllerInstance","loginController","HttpService","LoginController","_service","login","passwd","post","method","body","JSON","stringify","headers","then","res","get","console","log","token","window","sessionStorage","location","href","catch","err"],"mappings":";;;;;;;;;;;;;AAoDO,UAASA,uBAAT,GAAkC;AACrC,SAAOC,eAAP;AACH;;oCAFeD,uB;;;;AApDRE,c,wBAAAA,W;;;;;;;;;;;;;;;;;;;;;AAEFC,kB;AAEL,+BAAa;AAAA;;AACZ,UAAKC,QAAL,GAAgB,IAAIF,WAAJ,EAAhB;AACA;;;;2BAEKG,M,EAAOC,M,EAAO;AACnB;AACA;AACA;AACA;AACA,WAAKF,QAAL,CAAcG,IAAd,CAAmB,aAAnB,EAAkC;AACjCC,eAAS,MADwB;AAEjCC,aAAMC,KAAKC,SAAL,CAAe;AACpB,iBAAUN,MADU;AAEpB,oBAAaC;AAFO,QAAf,CAF2B;AAMjCM,gBAAS;AACP,wBAAgB;AAChB;AAFO;AANwB,OAAlC,EAWCC,IAXD,CAWM;AAAA,cAAOC,IAAIF,OAAJ,CAAYG,GAAZ,CAAgB,gBAAhB,CAAP;AAAA,OAXN,EAYCF,IAZD,CAYM,iBAAS;AACdG,eAAQC,GAAR,CAAY,OAAZ,EAAqBC,KAArB;AACA,WAAGA,KAAH,EAAUC,OAAOC,cAAP,CAAsBF,KAAtB,GAA8BA,KAA9B;AACV,OAfD,EAgBCL,IAhBD,CAgBM,eAAO;AACZ,WAAG,KAAK,CAAR,EAAU;AACTM,eAAOE,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB;AACA;AACD,OApBD,EAqBCC,KArBD,CAqBO;AAAA,cAAOP,QAAQC,GAAR,CAAYO,GAAZ,CAAP;AAAA,OArBP;AAsBA;AACA;;;8BAEO;AACP;AACA;;;8BAEO;AACP;AACA;AACA;AACA;AACA;;;;;;AAGEvB,kB,GAAkB,IAAIE,eAAJ,E","file":"LoginController.js","sourcesContent":["import {HttpService} from '../services/HttpService';\n\nclass LoginController{\n\t\n\tconstructor(){\n\t\tthis._service = new HttpService();\n\t}\n\n\tlogin(login, passwd){\n\t\t// Realiza a submisão de login\n\t\t// Ao receber a resposta favoravel de login:\n\t\t// \t\tGrava o resultado do x-access-token na sessão do usuário\n\t\t// \t\tRedireciona para o index\n\t\tthis._service.post('/autenticar', {\n\t\t\tmethod : 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\t'login' : login,\n\t\t\t\t'password' : passwd\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t  'Content-Type': 'application/json'\n\t\t\t  // 'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t},\n\t\t})\n\t\t.then(res => res.headers.get('x-access-token'))\n\t\t.then(token => {\n\t\t\tconsole.log('token', token);\n\t\t\tif(token) window.sessionStorage.token = token;\n\t\t})\n\t\t.then(res => {\n\t\t\tif(1 == 1){\n\t\t\t\twindow.location.href = \"index.html\";\n\t\t\t}\n\t\t})\n\t\t.catch(err => console.log(err));\n\t\t// redir home (login / sign in)\n\t}\n\n\tlogout(){\n\t\t// Apaga o resultado do x-access-token na sessão do usuário\n\t}\n\n\tsignin(){\n\t\t// Faz validações\n\t\t// \t\tSe validações ok:\n\t\t// \t\tSubmete dados para cadastro do usuário\n\t\t//\t\tSe cadastro ok redireciona para tela de login\n\t}\n}\n\nlet loginController = new LoginController();\n\nexport function loginControllerInstance(){\n    return loginController;\n}"]}